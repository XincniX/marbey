<!--
Marbey - Single-file website (HTML/CSS/JS)
Place this file in your GitHub repository as `index.html`.

How the product folder works:
- Create a folder named `products/` at the repo root.
- Inside `products/` create `products.json` and an `images/` folder.
- products.json must be an array of product objects like:
  [
    {
      "ItemNumber": "p001",
      "ItemName": "High Heel Elegant",
      "ItemPrice": 249.00,
      "ItemCategory": "footwear",
      "ItemImage": "p001.jpg"
    }
  ]

Images:
- Place all product images inside `products/` (same level as products.json)
- The "ItemImage" property must exactly match the image file name.
-->

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù…Ø§Ø±Ø¨ÙŠ Ù„Ù„Ø§Ø­Ø°ÙŠØ© ÙˆØ§Ù„Ø´Ù†Ø·</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#f5f5f7;
      --card:#ffffff;
      --accent:#d7263d;
      --text:#222;
      --muted:#666;
      --radius:16px;
      --shadow:0 14px 30px rgba(15,23,42,.12);
      --border:#e2e8f0;
      --pill:#f1f5f9;
      --pill-border:#e2e8f0;
      --chip-bg:#f97316;
      --chip-text:#fff;
      --chip-muted:#475569
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#fef3c7,#f5f5f7 55%);
      min-height:100vh;
      color:var(--text);
      padding:16px
    }
    .page{
      max-width:1200px;
      margin:0 auto;
      background:rgba(255,255,255,0.9);
      backdrop-filter:blur(16px);
      border-radius:24px;
      padding:18px;
      box-shadow:0 24px 60px rgba(15,23,42,.18);
      border:1px solid rgba(148,163,184,.25)
    }

    header{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      margin-bottom:18px
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px
    }
    .brand-logo{
      width:64px;
      height:64px;
      border-radius:50%;
      overflow:hidden;
      box-shadow:0 10px 25px rgba(15,23,42,.35);
      border:3px solid #fff;
      flex-shrink:0
    }
    .brand-logo img{width:100%;height:100%;object-fit:cover}
    .brand-text h1{
      font-size:1.35rem;
      font-weight:800;
      letter-spacing:.02em;
      color:#111827
    }
    .brand-text p{
      font-size:.82rem;
      color:var(--muted)
    }

    .contact{
      display:flex;
      flex-direction:column;
      gap:8px;
      align-items:flex-end;
      min-width:220px
    }
    .contact-line{
      font-size:.82rem;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:8px;
      justify-content:flex-end
    }
    .contact-actions{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 10px;
      border-radius:999px;
      background:var(--pill);
      border:1px solid var(--pill-border);
      font-size:.8rem;
      color:#0f172a;
      text-decoration:none;
      font-weight:500;
      box-shadow:0 6px 16px rgba(15,23,42,.12)
    }
    .pill span.icon{
      font-size:1rem
    }
    .pill.primary{
      background:linear-gradient(135deg,#16a34a,#22c55e);
      border-color:transparent;
      color:#f0fdf4
    }
    .pill.primary span.icon{
      background:rgba(15,23,42,.25);
      width:20px;
      height:20px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center
    }

    .filters-bar{
      margin-bottom:16px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
      justify-content:space-between
    }
    .filters-bar h2{
      font-size:1rem;
      font-weight:700;
      color:#111827
    }
    .filter-chips{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      justify-content:flex-end
    }
    .chip{
      border-radius:999px;
      padding:6px 10px;
      border:1px dashed #e5e7eb;
      font-size:.8rem;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      background:rgba(248,250,252,.9);
      color:var(--chip-muted);
      transition:.15s ease-in-out;
      user-select:none
    }
    .chip span.bullet{
      width:6px;
      height:6px;
      border-radius:999px;
      background-color:#cbd5f5
    }
    .chip.active{
      background:linear-gradient(135deg,#f97316,#fb923c);
      border-color:transparent;
      color:var(--chip-text);
      box-shadow:0 10px 25px rgba(248,113,113,.35)
    }
    .chip.active span.bullet{
      background:#fefce8
    }

    main{
      background:linear-gradient(145deg,#f9fafb,#e5e7eb);
      border-radius:20px;
      padding:16px;
      border:1px solid rgba(148,163,184,.35);
      box-shadow:0 16px 40px rgba(15,23,42,.12)
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(170px,1fr));
      gap:14px
    }

    .card{
      background:#fff;
      border-radius:14px;
      padding:12px;
      box-shadow:0 10px 24px rgba(15,23,42,.10);
      border:1px solid #e5e7eb;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:stretch
    }
    .card img{
      width:100%;
      height:200px;
      object-fit:cover;
      border-radius:10px
    }
    .meta{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px
 <script>
    // --- BASIC CONFIG ---
    const CONFIG = {
      address: 'Ù…Ø§Ø±Ø¨ÙŠ Ù„Ù„Ø§Ø­Ø°ÙŠØ© - Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ¨Ø© - Ø§Ù„Ù‡Ø±Ù… Ø¬ÙŠØ²Ø©',
      facebookUrl: 'https://www.facebook.com/profile.php?id=100063641126576',
      // full international no (no + or leading zeros). Example Egypt: 201234567890
      whatsappNumber: '201005014540',
      whatsappPresetText: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…Ø§Ø±Ø¨ÙŠ! Ø£Ø±ÙŠØ¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ù…Ù†ØªØ¬.'
    };

  // Render address as clickable link
  document.getElementById("address").innerHTML = `
    <a href="${CONFIG.mapsUrl}" 
       target="_blank" 
       style="text-decoration:none; color:#333; font-weight:bold;">
       ${CONFIG.address}
    </a>
  
    .name{
      font-weight:700;
      color:#222
    }
    .price{
      font-weight:800;
      color:var(--accent)
    }
    .btn{
      display:inline-block;
      padding:8px 10px;
      border-radius:10px;
      text-align:center;
      text-decoration:none;
      font-weight:700
    }
    .btn--chat{
      background:linear-gradient(90deg,var(--accent),#b12b2b);
      color:#fff
    }
    .btn--fb{
      background:#1877f2;
      color:#fff
    }
    .card-actions{
      display:flex;
      flex-direction:column;
      gap:6px
    }

    footer{
      margin-top:28px;
      padding:18px;
      border-radius:12px;
      background:linear-gradient(120deg,#0f172a,#1e293b);
      color:#e5e7eb;
      font-size:.82rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px
    }
    footer a{
      color:#bfdbfe;
      text-decoration:none;
      font-weight:600
    }

    @media(max-width:720px){
      header{
        flex-direction:column;
        align-items:flex-start
      }
      .contact{
        align-items:flex-start
      }
      .filters-bar{
        flex-direction:column;
        align-items:flex-start
      }
      .chip{
        font-size:.78rem
      }
      footer{
        flex-direction:column;
        align-items:flex-start
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="brand">
        <div class="brand-logo">
          <img src="assets/logo-rounded.png" alt="Ù…Ø§Ø±Ø¨ÙŠ Ù„Ù„Ø§Ø­Ø°ÙŠØ© ÙˆØ§Ù„Ø´Ù†Ø·" />
        </div>
        <div class="brand-text">
          <h1>Ù…Ø§Ø±Ø¨ÙŠ Ù„Ù„Ø§Ø­Ø°ÙŠØ© ÙˆØ§Ù„Ø´Ù†Ø·</h1>
          <p>Ø£Ø­Ø¯Ø« Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø§Ø­Ø°ÙŠØ© ÙˆØ§Ù„Ø´Ù†Ø· Ø§Ù„Ø­Ø±ÙŠÙ…ÙŠ</p>
        </div>
      </div>
      <div class="contact">
        <div class="contact-line">
          <span id="addressText"></span>
          <span class="icon">ğŸ“</span>
        </div>
        <div class="contact-actions">
          <a id="whatsappLink" class="pill primary" href="#">
            <span class="icon">ğŸ’¬</span>
            <span>ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</span>
          </a>
          <a id="facebookLink" class="pill" href="#" target="_blank" rel="noopener">
            <span class="icon">ğŸ“˜</span>
            <span>ØµÙØ­Ø© Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ</span>
          </a>
        </div>
      </div>
    </header>

    <section class="filters-bar">
      <h2>Ø£Ø­Ø¯Ø« Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¢Ù†</h2>
      <div class="filter-chips">
        <div class="chip active"><span class="bullet"></span><span>ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</span></div>
      </div>
    </section>

    <main>
      <div id="productsGrid" class="grid">
        <!-- Products from JSON -->
      </div>
    </main>

    <footer>
      <div>Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙˆØ§Ù„Ø·Ù„Ø¨ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ Ù…Ù† Ø®Ù„Ø§Ù„ ØµÙØ­Ø© Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ.</div>
      <div>
        <a id="chatBtn" href="#">ØªØ´Ø§Øª ÙˆØ§ØªØ³Ø§Ø¨</a>
        &nbsp;|&nbsp;
        <a id="fbBtn" href="#" target="_blank" rel="noopener">ØµÙØ­Ø© ÙÙŠØ³Ø¨ÙˆÙƒ</a>
      </div>
    </footer>
  </div>

  <script>
    // --- BASIC CONFIG ---
    const CONFIG = {
    address: 'Ù…Ø§Ø±Ø¨ÙŠ Ù„Ù„Ø§Ø­Ø°ÙŠØ© - Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ¨Ø© - Ø§Ù„Ù‡Ø±Ù… Ø¬ÙŠØ²Ø©',
    facebookUrl: 'https://www.facebook.com/profile.php?id=100063641126576',
    whatsappNumber: '201005014540',
    whatsappPresetText: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…Ø§Ø±Ø¨ÙŠ! Ø£Ø±ÙŠØ¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ù…Ù†ØªØ¬.',
    mapsUrl: 'https://maps.app.goo.gl/4rHJ2MKj1LrXTkVG9'
  };

  // Render address as clickable link
  document.getElementById("address").innerHTML = `
    <a href="${CONFIG.mapsUrl}" 
       target="_blank" 
       style="text-decoration:none; color:#333; font-weight:bold;">
       ${CONFIG.address}
    </a>
  `;

    // Wire up contact links
    document.getElementById('addressText').textContent = CONFIG.address;
    document.getElementById('facebookLink').href = CONFIG.facebookUrl;

    function makeWhatsAppLink(number, text){
      const encoded = encodeURIComponent(text || '');
      return `https://wa.me/${number}${text ? `?text=${encoded}` : ''}`;
    }

    const waLink = makeWhatsAppLink(CONFIG.whatsappNumber, CONFIG.whatsappPresetText);
    document.getElementById('whatsappLink').href = waLink;
    document.getElementById('chatBtn').href = waLink;
    document.getElementById('fbBtn').href = CONFIG.facebookUrl;

    // ---------- PRODUCTS LOADING ----------

    // NOTE:
    // products.json is now inside /products folder:
    //   /products/products.json
    //
    // Your JSON uses keys: ItemNumber, ItemName, ItemPrice, ItemCategory, ItemImage
    // The site internally uses: id, name, price, currency, image, category, highlight
    // So we normalise the objects after loading.

    async function loadProducts(){
      try{
        const res = await fetch('products/products.json', { cache: 'no-cache' });
        if(!res.ok) throw new Error('Products file not found');

        const rawProducts = await res.json();

        const products = rawProducts.map((p, index) => ({
          id: p.id || p.ItemNumber || `P${index + 1}`,
          name: p.name || p.ItemName || '',
          price: (p.price ?? p.ItemPrice) ?? 0,
          currency: p.currency || p.ItemCurrency || 'Ø¬.Ù…',
          // images are stored in /products folder next to products.json
          image: p.image || (p.ItemImage ? `products/${p.ItemImage}` : 'assets/logo-rounded.png'),
          category: p.category || p.ItemCategory || '',
          highlight: Number(p.highlight || 0)
        }));

        renderProducts(products);
      }catch(err){
        document.getElementById('productsGrid').innerHTML =
          '<div style="background:#fff3cd;border:1px solid #ffeeba;padding:12px;border-radius:10px;text-align:right;font-size:14px;">' +
          'ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª. ØªØ£ÙƒØ¯ Ù…Ù† Ø±ÙØ¹ Ù…Ù„Ù <code>products/products.json</code> ÙˆØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ <code>products</code>.' +
          '</div>';
        console.error(err);
      }
    }

    function renderProducts(products){
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = '';

      // --- Create / reuse lightbox element ---
      let lightbox = document.getElementById('marbey-lightbox');
      if(!lightbox){
        lightbox = document.createElement('div');
        lightbox.id = 'marbey-lightbox';
        lightbox.style.position = 'fixed';
        lightbox.style.inset = '0';
        lightbox.style.display = 'none';
        lightbox.style.alignItems = 'center';
        lightbox.style.justifyContent = 'center';
        lightbox.style.background = 'rgba(0,0,0,0.6)';
        lightbox.style.zIndex = '9999';
        lightbox.innerHTML = `
          <div id="marbey-lightbox-inner" style="max-width:90%;max-height:90%;padding:12px;border-radius:10px;">
            <img id="marbey-lightbox-img" src="" alt="" style="max-width:100%;max-height:100%;display:block;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.6)">
            <button id="marbey-lightbox-close" style="position:absolute;top:16px;right:24px;background:transparent;border:0;font-size:32px;color:#fff;cursor:pointer">&times;</button>
          </div>
        `;
        document.body.appendChild(lightbox);

        // close handlers
        lightbox.addEventListener('click', (e)=>{
          if(e.target.id === 'marbey-lightbox' || e.target.id === 'marbey-lightbox-close'){
            lightbox.style.display = 'none';
            document.getElementById('marbey-lightbox-img').src = '';
          }
        });
        window.addEventListener('keydown', (e)=>{
          if(e.key === 'Escape'){
            lightbox.style.display = 'none';
            const lbimg = document.getElementById('marbey-lightbox-img');
            if(lbimg) lbimg.src = '';
          }
        });
      }

      const fallbackImage = 'assets/logo-rounded.png';

      // sort: highlights first then by name
      products.sort((a,b)=> (b.highlight - a.highlight) || a.name.localeCompare(b.name));

      for(const p of products){
        const card = document.createElement('div');
        card.className = 'card';

        // Clickable full-size image (wrap in <a> to allow right-click -> open image in new tab)
        const imgLink = document.createElement('a');
        imgLink.href = p.image || fallbackImage;
        imgLink.target = '_blank';
        imgLink.rel = 'noopener';
        imgLink.style.display = 'block';

        const img = document.createElement('img');
        img.alt = p.name || '';
        img.src = p.image || fallbackImage;
        img.style.cursor = 'zoom-in';
        imgLink.appendChild(img);

        // open in lightbox on click (prevent default so user stays on site)
        img.addEventListener('click', (ev)=>{
          ev.preventDefault();
          const lb = document.getElementById('marbey-lightbox');
          const lbimg = document.getElementById('marbey-lightbox-img');
          if(lb && lbimg){
            lbimg.src = img.src;
            lb.style.display = 'flex';
          }
        });

        const name = document.createElement('div');
        name.className = 'name';
        name.textContent = p.name || '';

        const meta = document.createElement('div');
        meta.className = 'meta';

        const price = document.createElement('div');
        price.className = 'price';
        price.textContent = `${p.price.toFixed(0)} ${p.currency || ''}`;

        const actions = document.createElement('div');
        actions.className = 'card-actions';

        const wa = document.createElement('a');
        wa.className = 'btn btn--chat';
        const msg = encodeURIComponent(`Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…Ø§Ø±Ø¨ÙŠ! Ø£Ø±ÙŠØ¯ Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬: ${p.name} (Ø§Ù„Ø±Ù…Ø² ${p.id})`);
        wa.href = `https://wa.me/${CONFIG.whatsappNumber}?text=${msg}`;
        wa.target = '_blank';
        wa.rel = 'noopener';
        wa.textContent = 'ÙˆØ§ØªØ³Ø§Ø¨';

        const fb = document.createElement('a');
        fb.className = 'btn btn--fb';
        fb.href = CONFIG.facebookUrl;
        fb.target = '_blank';
        fb.rel = 'noopener';
        fb.textContent = 'Ø§Ù„Ù…Ø²ÙŠØ¯';

        actions.appendChild(wa);
        actions.appendChild(fb);

        meta.appendChild(price);
        meta.appendChild(actions);

        card.appendChild(imgLink);
        card.appendChild(name);
        card.appendChild(meta);

        grid.appendChild(card);
      }
    }

    // start
    loadProducts();
  </script>
</body>
</html>
